
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="reference/">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>textual-plot</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#a-native-plotting-widget-for-textual-apps" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="textual-plot" class="md-header__button md-logo" aria-label="textual-plot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            textual-plot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              A native plotting widget for Textual apps
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="textual-plot" class="md-nav__button md-logo" aria-label="textual-plot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    textual-plot
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    A native plotting widget for Textual apps
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    A native plotting widget for Textual apps
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#screenshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screenshots
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-demo-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running the demo / installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tutorial
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-resolution-plotting" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-resolution plotting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scatter plots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-full-demo-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        The full demo code
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-important-plot-widget-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        List of important plot widget methods
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alternatives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        Roadmap
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#screenshots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Screenshots
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-demo-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running the demo / installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tutorial
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-resolution-plotting" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-resolution plotting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scatter-plots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scatter plots
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-full-demo-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        The full demo code
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-important-plot-widget-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        List of important plot widget methods
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Alternatives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        Roadmap
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="a-native-plotting-widget-for-textual-apps">A native plotting widget for Textual apps</h1>
<p><a href="https://www.textualize.io/">Textual</a> is an excellent Python framework for building applications in the terminal, or on the web. This library provides a plot widget which your app can use to plot all kinds of quantitative data. So, no pie charts, sorry. The widget support scatter plots and line plots, and can also draw using <em>high-resolution</em> characters like unicode half blocks, quadrants and 8-dot Braille characters. It may still be apparent that these are drawn using characters that take up a full block in the terminal, especially when plot series overlap. However, the use of these characters can reduce the line thickness and improve the resolution tremendously.</p>
<h2 id="screenshots">Screenshots</h2>
<p><img alt="screenshot of day-time spectrum" src="images/screenshot-spectrum.png" /></p>
<p><img alt="screenshot of moving sines" src="images/screenshot-moving-sines.png" /></p>
<p><img alt="screenshot of error bars" src="images/screenshot-errorbars.png" /></p>
<p><img alt="screenshot of bar plot" src="images/screenshot-barplot.png" /></p>
<p><img alt="video of plot demo" src="https://github.com/user-attachments/assets/dd725fdc-e182-4bed-8951-5899bdb99a20" /></p>
<p>The <em>daytime spectrum</em> dataset shows the visible-light spectrum recorded by an Ocean Optics USB2000+ spectrometer using the <a href="https://github.com/davidfokkema/deadsea-optics">DeadSea Optics</a> software. It was taken in the morning while the detector was facing my office window.</p>
<h2 id="features">Features</h2>
<ul>
<li>Line plots</li>
<li>Scatter plots</li>
<li>Automatic scaling and tick placement at <em>nice</em> intervals (1, 2, 5, etc.)</li>
<li>Axes labels</li>
<li>High-resolution modes using unicode half blocks (1x2), quadrants (2x2) and braille (2x8) characters</li>
<li>Mouse support for <em>zooming</em> (mouse scrolling) and <em>panning</em> (mouse dragging)</li>
<li>Horizontal- or vertical-only zooming and panning when the mouse cursor is in the plot margins</li>
</ul>
<h2 id="running-the-demo-installation">Running the demo / installation</h2>
<p>Using <a href="https://astral.sh/uv/">uv</a>:</p>
<pre><code class="language-console">uvx textual-plot
</code></pre>
<p>Using <a href="https://pipx.pypa.io/">pipx</a>:</p>
<pre><code class="language-console">pipx run textual-plot
</code></pre>
<p>Install the package with either</p>
<pre><code class="language-console">uv tool install textual-plot
</code></pre>
<p>or</p>
<pre><code class="language-console">pipx install textual-plot
</code></pre>
<p>Alternatively, install the package with <code>pip</code> (please, use virtual environments) and run the demo:</p>
<pre><code class="language-console">pip install textual-plot
</code></pre>
<p>In all cases, you can run the demo with</p>
<pre><code class="language-console">textual-plot
</code></pre>
<h2 id="tutorial">Tutorial</h2>
<p>A minimal example is shown below:
<img alt="screenshot of minimal example" src="images/screenshot-minimal.png" /></p>
<pre><code class="language-python">from textual.app import App, ComposeResult

from textual_plot import PlotWidget


class MinimalApp(App[None]):
    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        plot = self.query_one(PlotWidget)
        plot.plot(x=[0, 1, 2, 3, 4], y=[0, 1, 4, 9, 16])


MinimalApp().run()
</code></pre>
<p>You include a <code>PlotWidget</code> in your compose method and after your UI has finished composing, you can start plotting data. The <code>plot()</code> method takes <code>x</code> and <code>y</code> data which should be array-like. It can be lists, or NumPy arrays, or really anything that can be turned into a NumPy array which is what's used internally. The <code>plot()</code> method further accepts a <code>line_style</code> argument which accepts Textual styles like <code>"white"</code>, <code>"red on blue3"</code>, etc. For standard low-resolution plots, it does not make much sense to specify a background color since the text character used for plotting is a full block filling an entire cell.</p>
<h3 id="high-resolution-plotting">High-resolution plotting</h3>
<p>The plot widget supports high-resolution plotting where the character does not take up the full cell:</p>
<p><img alt="screenshot of minimal hires example" src="images/screenshot-minimal-hires.png" /></p>
<pre><code class="language-python">from textual.app import App, ComposeResult

from textual_plot import HiResMode, PlotWidget


class MinimalApp(App[None]):
    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        plot = self.query_one(PlotWidget)
        plot.plot(
            x=[0, 1, 2, 3, 4],
            y=[0, 1, 4, 9, 16],
            hires_mode=HiResMode.BRAILLE,
            line_style=&quot;bright_yellow on blue3&quot;,
        )


MinimalApp().run()
</code></pre>
<p>Admittedly, you'll be mostly plotting with foreground colors only. The plot widget supports four high-resolution modes: <code>Hires.BRAILLE</code> (2x8), <code>HiRes.HALFBLOCK</code> (1x2) and <code>HiRes.QUADRANT</code> (2x2) where the size between brackets is the number of 'pixels' inside a single cell.</p>
<h3 id="scatter-plots">Scatter plots</h3>
<p>To create scatter plots, use the <code>scatter()</code> method, which accepts a <code>marker</code> argument which can be any unicode character (as long as it is one cell wide, which excludes many emoji characters and non-Western scripts):
<img alt="screenshot of scatter plot" src="images/screenshot-scatter.png" /></p>
<pre><code class="language-python">import numpy as np
from textual.app import App, ComposeResult

from textual_plot import PlotWidget


class MinimalApp(App[None]):
    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        rng = np.random.default_rng(seed=4)
        plot = self.query_one(PlotWidget)

        x = np.linspace(0, 10, 21)
        y = 0.2 * x - 1 + rng.normal(loc=0.0, scale=0.2, size=len(x))
        plot.scatter(x, y, marker=&quot;â¦¿&quot;)


MinimalApp().run()
</code></pre>
<h3 id="the-full-demo-code">The full demo code</h3>
<p>Finally, the code of the demo is given below, showing how you can handle multiple plots and updating 'live' data:</p>
<pre><code class="language-python">from __future__ import annotations

import importlib.resources
import itertools

import numpy as np
from textual import on
from textual.app import App, ComposeResult
from textual.binding import Binding
from textual.containers import Container, Grid
from textual.widgets import Footer, Header, Label, TabbedContent, TabPane
from textual_hires_canvas import HiResMode

from textual_plot import DurationFormatter, NumericAxisFormatter, PlotWidget


class SpectrumPlot(Container):
    BINDINGS = [(&quot;m&quot;, &quot;cycle_modes&quot;, &quot;Cycle Modes&quot;)]

    _modes = itertools.cycle(
        [HiResMode.QUADRANT, HiResMode.BRAILLE, None, HiResMode.HALFBLOCK]
    )
    mode = next(_modes)

    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        # Read CSV data included with this package
        self.spectrum_csv = importlib.resources.read_text(
            &quot;textual_plot.resources&quot;, &quot;morning-spectrum.csv&quot;
        ).splitlines()

        # plot the spectrum and set ymin limit once
        self.plot_spectrum()
        self.query_one(PlotWidget).set_ylimits(ymin=0)

    def plot_spectrum(self) -&gt; None:
        x, y = np.genfromtxt(
            self.spectrum_csv,
            delimiter=&quot;,&quot;,
            names=True,
            unpack=True,
        )

        plot = self.query_one(PlotWidget)
        plot.clear()
        plot.plot(x, y, hires_mode=self.mode)
        plot.add_v_line(380, &quot;dark_red&quot;, &quot;IR boundary&quot;)
        plot.add_v_line(750, &quot;purple4&quot;, &quot;UV boundary&quot;)
        plot.set_xlabel(&quot;Wavelength (nm)&quot;)
        plot.set_ylabel(&quot;Intensity&quot;)
        plot.show_legend()

    def action_cycle_modes(self) -&gt; None:
        self.mode = next(self._modes)
        self.plot_spectrum()


class SinePlot(Container):
    BINDINGS = [
        (&quot;c&quot;, &quot;clear&quot;, &quot;Clear&quot;),
        (&quot;f&quot;, &quot;toggle_formatter&quot;, &quot;Toggle Formatter&quot;),
        (&quot;m&quot;, &quot;cycle_multiplier&quot;, &quot;Cycle Multiplier&quot;),
    ]

    # Update frequency in Hz (updates per second)
    UPDATE_FREQUENCY: float = 24.0

    N: int = 1
    use_duration_formatter: bool = False

    # Available multipliers
    _multipliers = itertools.cycle([1, 10, 100, 1000, 10_000, 100_000])
    x_multiplier: float = next(_multipliers)

    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        self._timer = self.set_interval(
            1 / self.UPDATE_FREQUENCY, self.plot_moving_sines, pause=True
        )
        # Set initial x-axis label
        self._update_x_label()

    def on_show(self) -&gt; None:
        self._timer.resume()

    def on_hide(self) -&gt; None:
        self._timer.pause()

    def action_clear(self) -&gt; None:
        self.N = 1

    def action_toggle_formatter(self) -&gt; None:
        &quot;&quot;&quot;Toggle between NumericAxisFormatter and DurationFormatter.&quot;&quot;&quot;
        self.use_duration_formatter = not self.use_duration_formatter
        plot = self.query_one(PlotWidget)

        if self.use_duration_formatter:
            plot.set_x_formatter(DurationFormatter())
        else:
            plot.set_x_formatter(NumericAxisFormatter())

        # Update x-axis label
        self._update_x_label()

        # Force a replot with current data
        self.plot_moving_sines()

    def action_cycle_multiplier(self) -&gt; None:
        &quot;&quot;&quot;Cycle through different multipliers.&quot;&quot;&quot;
        self.x_multiplier = next(self._multipliers)

        # Update x-axis label
        self._update_x_label()

        # Force a replot with current data
        self.plot_moving_sines()

    def _update_x_label(self) -&gt; None:
        &quot;&quot;&quot;Update the x-axis label with formatter name and multiplier.&quot;&quot;&quot;
        plot = self.query_one(PlotWidget)
        formatter_name = plot._x_formatter.__class__.__name__
        plot.set_xlabel(f&quot;{formatter_name} (multiplier: {self.x_multiplier})&quot;)

    def plot_moving_sines(self) -&gt; None:
        plot = self.query_one(PlotWidget)
        plot.clear()

        # Generate x values: after N updates at UPDATE_FREQUENCY Hz,
        # we have N data points spanning N/UPDATE_FREQUENCY seconds
        # So x ranges from 0 to N/UPDATE_FREQUENCY with N points
        x = np.linspace(0, self.N / self.UPDATE_FREQUENCY, self.N + 1)
        x_plot = x * self.x_multiplier

        plot.plot(
            x=x_plot,
            y=10 + 10 * np.sin(x + 3),
            line_style=&quot;yellow&quot;,
            hires_mode=HiResMode.BRAILLE,
        )
        plot.plot(
            x=x_plot,
            y=10 + 10 * np.sin(x + 2),
            line_style=&quot;green&quot;,
            hires_mode=HiResMode.QUADRANT,
        )
        plot.plot(
            x=x_plot,
            y=10 + 10 * np.sin(x + 1),
            line_style=&quot;red3&quot;,
            hires_mode=HiResMode.HALFBLOCK,
        )
        plot.plot(
            x=x_plot,
            y=10 + 10 * np.sin(x),
            line_style=&quot;blue&quot;,
            hires_mode=None,
        )

        plot.set_ylimits(0, 20)
        self.N += 1


class MultiPlot(Grid):
    BINDINGS = [Binding(&quot;r&quot;, &quot;reset_scales&quot;, &quot;Reset scales&quot;, priority=True)]

    DEFAULT_CSS = &quot;&quot;&quot;
        MultiPlot {
            grid-size: 2 4;
            grid-rows: auto 1fr;

            Label {
                text-align: center;
                text-style: bold;
                padding: 1 2 0 2;
                width: 100%;
            }
        }
    &quot;&quot;&quot;

    def compose(self) -&gt; ComposeResult:
        yield Label(&quot;f(x) = x&quot;)
        yield Label(&quot;f(x) = x ** 2&quot;)
        yield PlotWidget(id=&quot;x&quot;)
        yield PlotWidget(id=&quot;x-squared&quot;)
        yield Label(&quot;f(x) = 1 / |1 + x|&quot;)
        yield Label(&quot;f(x) = sqrt(x)&quot;)
        yield PlotWidget(id=&quot;one-over-x&quot;)
        yield PlotWidget(id=&quot;sqrt-x&quot;)

    def on_mount(self) -&gt; None:
        for plot in self.query(PlotWidget):
            plot.margin_left = 8
            plot.margin_top = 0
            plot.margin_bottom = 1
        self.plot()

    def plot(self) -&gt; None:
        plot = self.query_one(&quot;#x&quot;, PlotWidget)
        x = np.linspace(plot._x_min, plot._x_max, 101)
        plot.clear()
        plot.plot(x, x, hires_mode=HiResMode.BRAILLE)

        plot = self.query_one(&quot;#x-squared&quot;, PlotWidget)
        plot.clear()
        plot.plot(x, x**2, hires_mode=HiResMode.BRAILLE)

        plot = self.query_one(&quot;#one-over-x&quot;, PlotWidget)
        plot.clear()
        plot.plot(x, 1 / abs(1 + x), hires_mode=HiResMode.BRAILLE)

        plot = self.query_one(&quot;#sqrt-x&quot;, PlotWidget)
        plot.clear()
        plot.plot(x, np.sqrt(x), hires_mode=HiResMode.BRAILLE)

    @on(PlotWidget.ScaleChanged)
    def adjust_scales(self, event: PlotWidget.ScaleChanged) -&gt; None:
        for plot in self.query(PlotWidget):
            plot.set_xlimits(event.x_min, event.x_max)
            plot.set_ylimits()
        self.plot()

    def action_reset_scales(self) -&gt; None:
        for plot in self.query(PlotWidget):
            plot.set_xlimits(0.0, 1.0)
            plot.set_ylimits()
        self.plot()


class ErrorBarPlot(Container):
    BINDINGS = [
        (&quot;n&quot;, &quot;new_data&quot;, &quot;New data&quot;),
        (&quot;m&quot;, &quot;cycle_marker&quot;, &quot;Marker&quot;),
        (&quot;h&quot;, &quot;cycle_hires_mode&quot;, &quot;HiRes&quot;),
    ]

    N = 100
    _marker = itertools.cycle([&quot;&quot;, &quot;o&quot;])
    marker = next(_marker)
    _hires_mode = itertools.cycle([None, HiResMode.BRAILLE])
    hires_mode = next(_hires_mode)

    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        self.action_new_data()
        plot = self.query_one(PlotWidget)
        plot.set_xlimits(-5, 5)
        plot.set_ylimits(-5, 5)

    def action_new_data(self) -&gt; None:
        self.x = np.random.normal(0, 5.0, self.N)
        self.y = np.random.normal(0, 5.0, self.N)
        self.xerr = np.random.lognormal(-2, 0.5, self.N)
        self.yerr = np.random.lognormal(-2, 0.5, self.N)
        self.plot()

    def plot(self) -&gt; None:
        plot = self.query_one(PlotWidget)
        plot.clear()
        plot.errorbar(
            self.x,
            self.y,
            self.xerr,
            self.yerr,
            marker=self.marker,
            hires_mode=self.hires_mode,
            label=&quot;Random data&quot;,
        )
        plot.show_legend()

    def action_cycle_marker(self) -&gt; None:
        self.marker = next(self._marker)
        self.plot()

    def action_cycle_hires_mode(self) -&gt; None:
        self.hires_mode = next(self._hires_mode)
        self.plot()


class BarPlot(Container):
    BINDINGS = [(&quot;h&quot;, &quot;cycle_hires_mode&quot;, &quot;HiRes&quot;)]

    _hires_mode = itertools.cycle([None, HiResMode.BRAILLE])
    hires_mode = next(_hires_mode)

    def compose(self) -&gt; ComposeResult:
        yield PlotWidget()

    def on_mount(self) -&gt; None:
        self.plot()

    def plot(self) -&gt; None:
        plot = self.query_one(PlotWidget)
        plot.clear()

        y = [10.2, 8.3, 7.5, 9.1, 9]
        styles = [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;white&quot;, &quot;yellow&quot;]
        x = styles
        plot.bar(
            x,
            y,
            bar_style=styles,
            width=0.8,
            label=&quot;Fancy bars&quot;,
            hires_mode=self.hires_mode,
        )
        plot.show_legend()

    def action_cycle_hires_mode(self) -&gt; None:
        self.hires_mode = next(self._hires_mode)
        self.plot()


class DemoApp(App[None]):
    AUTO_FOCUS = &quot;SinePlot &gt; PlotWidget&quot;

    CSS = &quot;&quot;&quot;
        PlotWidget {
            margin-right: 2;
            margin-bottom: 1;
        }
    &quot;&quot;&quot;

    def compose(self) -&gt; ComposeResult:
        yield Header()
        yield Footer()
        with TabbedContent():
            with TabPane(&quot;Moving sines&quot;, id=&quot;sines&quot;):
                yield SinePlot()
            with TabPane(&quot;Daytime spectrum&quot;, id=&quot;spectrum&quot;):
                yield SpectrumPlot()
            with TabPane(&quot;Multiplot&quot;, id=&quot;multiplot&quot;):
                yield MultiPlot()
            with TabPane(&quot;Errorbars&quot;, id=&quot;errorbars&quot;):
                yield ErrorBarPlot()
            with TabPane(&quot;Bar plot&quot;, id=&quot;barplot&quot;):
                yield BarPlot()

    def on_mount(self) -&gt; None:
        self.theme = &quot;tokyo-night&quot;


def main() -&gt; None:
    app = DemoApp()
    app.run()


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<h2 id="list-of-important-plot-widget-methods">List of important plot widget methods</h2>
<ul>
<li><code>clear()</code>: clear the plot.</li>
<li><code>plot(x, y, line_style, hires_mode, label)</code>: plot a dataset with a line using the specified linestyle and high-resolution mode.</li>
<li><code>scatter(x, y, marker, marker_style, hires_mode, label)</code>: plot a dataset with markers using the specified marker, marker style and high-resolution mode.</li>
<li><code>errorbar(x, y, xerr, yerr, marker, marker_style, hires_mode, label)</code>: plot a dataset with error bars,</li>
<li><code>bar(x, y, width, bar_style, hires_mode, label)</code>: create a bar plot with quantitative or categorical x values,</li>
<li><code>set_xlimits(xmin, xmax)</code>: set the x-axis limits. <code>None</code> means autoscale.</li>
<li><code>set_ylimits(xmin, xmax)</code>: set the y-axis limits. <code>None</code> means autoscale.</li>
<li><code>set_xticks(ticks)</code>: manually specify x-axis tick locations.</li>
<li><code>set_yticks(ticks)</code>: manually specify y-axis tick locations.</li>
<li><code>set_xlabel(label)</code>: set the x-axis label.</li>
<li><code>set_ylabel(label)</code>: set the y-axis label.</li>
<li><code>show_legend(location, is_visible)</code>: show or hide the plot legend.</li>
</ul>
<p>Various other methods exist, please see the <a href="https://davidfokkema.github.io/textual-plot/reference/">reference</a>.</p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="https://github.com/Textualize/textual-plotext">Textual-plotext</a> uses the <a href="https://github.com/piccolomo/plotext">plotext</a> library which has more features than this library. However, it does not support interactive zooming or panning and the tick placement isn't as nice since it simply divides up the axes range into a fixed number of intervals giving values like 0, 123.4, 246.8, etc. The plotext library hasn't been updated since September, 2024 and hadn't seen significant updates since December, 2023. The author is working on a new version, a full rewrite, since at least <a href="https://github.com/piccolomo/plotext/issues/184#issuecomment-1751548546">October 2023</a>. If you're looking for a library to use for your <a href="https://textual.textualize.io">Textual</a> application, this is it.</p>
<h2 id="roadmap">Roadmap</h2>
<p>We'll work on adding some features like datetime axes, and some quality-of-life improvements like <a href="https://github.com/davidfokkema/textual-plot/issues/14">even tick spacing</a>. This will (probably) not turn into a general do-it-all plotting library. We focus first on handling quantitative data in the context of physics experiments. If you'd like to see features added, do let us know. And if a PR is of good quality and is a good fit for the API, we'd love to handle more use cases beyond physics. And who knows, maybe this <em>will</em> turn into a general plotting library!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": [], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>